{
  "version": 3,
  "file": "ngx-uploadx.js",
  "sources": [
    "ng://ngx-uploadx/out/uploadx.module.ts",
    "ng://ngx-uploadx/out/uploadx.directive.ts",
    "ng://ngx-uploadx/out/uploadx.service.ts",
    "ng://ngx-uploadx/out/uploader.ts",
    "ng://ngx-uploadx/out/xhrfactory.ts",
    "ng://ngx-uploadx/out/backoffRetry.ts",
    "ng://ngx-uploadx/out/interfaces.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UploadxDirective } from './uploadx.directive';\nimport { UploadxService } from './uploadx.service';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [UploadxDirective],\n  exports: [UploadxDirective],\n  providers: [UploadxService]\n})\nexport class UploadxModule { }\n",
    "import {\n  Directive,\n  ElementRef,\n  Renderer2,\n  OnInit,\n  OnDestroy,\n  Input,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { UploadxOptions, UploadState, UploadxControlEvent } from './interfaces';\nimport { UploadxService } from './uploadx.service';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[uploadx]'\n})\nexport class UploadxDirective implements OnInit, OnDestroy {\n  listenerFn: () => void;\n  @Output() uploadxState = new EventEmitter();\n  @Input('uploadx') uploadx: UploadxOptions;\n  @Input('uploadxAction')\n  set uploadxAction(ctrlEvent: UploadxControlEvent) {\n    if (ctrlEvent && this.uploadService) {\n      this.uploadService.control(ctrlEvent);\n    }\n  }\n  constructor(\n    private elementRef: ElementRef,\n    private renderer: Renderer2,\n    private uploadService: UploadxService\n  ) { }\n\n  ngOnInit() {\n    if (this.uploadx) {\n      if (this.uploadx.allowedTypes) {\n        this.renderer.setAttribute(\n          this.elementRef.nativeElement,\n          'accept',\n          this.uploadx.allowedTypes\n        );\n      }\n      this.uploadService.init(this.uploadx);\n    }\n    this.uploadxState.emit(\n      <Observable<UploadState>>this.uploadService.subj.asObservable()\n    );\n    this.listenerFn = this.renderer.listen(\n      this.elementRef.nativeElement, 'change', this.fileListener\n    );\n  }\n\n  ngOnDestroy() {\n    if (this.listenerFn) {\n      this.listenerFn();\n    }\n  }\n\n  fileListener = () => {\n    if (this.elementRef.nativeElement.files) {\n      this.uploadService.handleFileList(this.elementRef.nativeElement.files);\n    }\n  }\n}\n",
    "import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\n\nimport {\n  UploadxOptions,\n  UploadState,\n  UploadxControlEvent,\n  UploaderOptions\n} from './interfaces';\nimport { Uploader } from './uploader';\n/**\n *\n */\n@Injectable()\nexport class UploadxService {\n  subj: Subject<UploadState> = new Subject();\n  private queue: Uploader[] = [];\n  private concurrency = 2;\n  private autoUpload = true;\n  private options: UploadxOptions;\n\n  get uploaderOptions(): UploaderOptions {\n    return {\n      method: this.options.method || 'POST',\n      url: this.options.url || '/upload/',\n      headers: this.options.headers,\n      token: this.options.token,\n      chunkSize: this.options.chunkSize || 0,\n      withCredentials: this.options.withCredentials || false,\n      subj: this.subj,\n      nextFile: () => this.processQueue()\n    };\n  }\n  /**\n   * Set global module options\n   */\n  init(options: UploadxOptions): Observable<UploadState> {\n    this.options = options;\n    this.concurrency = options.concurrency || this.concurrency;\n    this.autoUpload = options.autoUpload || false;\n    return this.subj.asObservable();\n  }\n  /**\n   *\n   * Create Uploader and add to the queue\n   */\n  handleFileList(fileList: FileList) {\n    for (let i = 0; i < fileList.length; i++) {\n      const uploader: Uploader = new Uploader(\n        fileList.item(i),\n        this.uploaderOptions\n      );\n      this.queue.push(uploader);\n    }\n    if (this.autoUpload) {\n      this.queue.forEach(upload => {\n        upload.configure();\n      });\n      this.processQueue();\n    }\n  }\n  /**\n   * Control upload status\n   * @example\n   * this.uploadService.control({ action: 'pauseAll' });\n   *\n   */\n  control(event: UploadxControlEvent) {\n    switch (event.action) {\n      case 'cancelAll':\n        this.queue\n          .filter(f => f.status !== 'complete')\n          .map(f => (f.status = 'cancelled'));\n        break;\n      case 'pauseAll':\n        this.queue\n          .filter(f => f.status !== 'complete')\n          .map(f => (f.status = 'paused'));\n        break;\n      case 'uploadAll':\n        this.queue\n          .filter(f => f.status !== 'complete' && f.status !== 'uploading')\n          .map(f => (f.status = 'queue'));\n        this.processQueue();\n        break;\n      case 'upload':\n        const uploadId = event.uploadId || event.itemOptions.uploadId;\n        const target = this.queue.find(f => f.uploadId === uploadId);\n        target.configure(event.itemOptions);\n        this.processQueue();\n        break;\n      case 'cancel':\n        this.queue.find(f => f.uploadId === event.uploadId).status =\n          'cancelled';\n        break;\n      case 'pause':\n        this.queue.find(f => f.uploadId === event.uploadId).status = 'paused';\n        break;\n      default:\n        break;\n    }\n  }\n  /**\n   * Queue management\n   */\n  private processQueue() {\n    const running = this.queue.filter(\n      (uploader: Uploader) => uploader.status === 'uploading'\n    );\n\n    const completed = this.queue.findIndex(\n      (uploader: Uploader) => uploader.status === 'complete'\n    );\n    if (completed !== -1) {\n      this.queue.splice(completed, 1);\n    }\n    this.queue\n      .filter((uploader: Uploader) => uploader.status === 'queue')\n      .slice(0, this.concurrency - running.length)\n      .forEach((uploader: Uploader) => {\n        uploader.upload();\n      });\n  }\n}\n",
    "import { Subject } from 'rxjs/Subject';\n\nimport { BackoffRetry } from './backoffRetry';\nimport { XHRFactory } from './xhrfactory';\nimport {\n  UploadStatus,\n  UploadItem,\n  UploaderOptions,\n  UploadState\n} from './interfaces';\n\nconst noop = () => {};\n/**\n * Implements XHR/CORS Resumable Upload\n * @see\n * https://developers.google.com/drive/v3/web/resumable-upload\n * https://developer.vimeo.com/api/upload/videos#resumable-upload\n */\nexport class Uploader implements UploaderOptions {\n  headers: any;\n  metadata: any;\n  method: string;\n  mimeType: string;\n  name: string;\n  progress: number;\n  remaining: number;\n  response: any;\n  size: number;\n  speed: number;\n  uploadId: string;\n  url: any;\n  private startTime: number;\n  private _status: UploadStatus;\n  private retry: BackoffRetry;\n  private abort;\n  /**\n   * Creates an instance of Uploader.\n   */\n  constructor(private file: File, private options: UploaderOptions) {\n    this.uploadId = Math.random()\n      .toString(36)\n      .substring(2, 15);\n    this.name = file.name;\n    this.size = file.size;\n    this.mimeType = file.type || 'application/octet-stream';\n    this.status = 'added';\n    this.retry = new BackoffRetry();\n  }\n  /**\n   * Set individual file options and add to queue\n   */\n  configure(item: UploadItem = {}) {\n    if (this.status === 'added') {\n      const { metadata, headers } = item;\n      this.metadata = {\n        name: this.name,\n        mimeType: this.mimeType,\n        ...this.options.metadata,\n        ...metadata\n      };\n      this.headers =\n        this.options.headers instanceof Function\n          ? this.options.headers(this.file)\n          : { ...this.options.headers, ...headers };\n      this.url = this.options.url;\n      this.method = this.options.method;\n    }\n    this.status = 'queue';\n  }\n\n  set status(s: UploadStatus) {\n    this._status = s;\n    this.notifyState();\n    if (s === 'cancelled' || s === 'paused') {\n      this.abort();\n    }\n  }\n  get status() {\n    return this._status;\n  }\n  /**\n   * Emit current state\n   */\n  private notifyState() {\n    const state: UploadState = {\n      file: this.file,\n      name: this.name,\n      progress: this.progress,\n      remaining: this.remaining,\n      response: this.response,\n      size: this.size,\n      speed: this.speed,\n      status: this._status,\n      uploadId: this.uploadId,\n      URI: this.url\n    };\n    // tick for control events detect\n    setTimeout(() => {\n      this.options.subj.next(state);\n    });\n  }\n\n  private setHeaders(xhr: XMLHttpRequest) {\n    if (this.headers) {\n      Object.keys(this.headers).forEach(key =>\n        xhr.setRequestHeader(key, this.headers[key])\n      );\n    }\n  }\n\n  /**\n   * Initiate upload\n   */\n  upload() {\n    if (this.status === 'added') {\n      this.configure();\n    }\n    this.status = 'uploading';\n    if (this.progress > 0) {\n      return this.resume();\n    }\n    const xhr = new XMLHttpRequest();\n    xhr.responseType = 'json';\n    xhr.open(this.method, this.options.url, true);\n    if (!!this.options.withCredentials) {\n      xhr.withCredentials = true;\n    }\n    this.setHeaders(xhr);\n    this.options.token\n      ? xhr.setRequestHeader('Authorization', 'Bearer ' + this.options.token)\n      : noop();\n    xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');\n    xhr.setRequestHeader('X-Upload-Content-Length', this.size.toString());\n    xhr.setRequestHeader('X-Upload-Content-Type', this.mimeType);\n    xhr.onload = () => {\n      if (xhr.status < 400 && xhr.status > 199) {\n        // get secure upload link\n        this.url = xhr.getResponseHeader('Location');\n        this.startTime = this.startTime || new Date().getTime();\n        this.sendFile();\n      } else {\n        this.response = xhr.response;\n        this.status = 'error';\n      }\n    };\n    xhr.send(JSON.stringify(this.metadata));\n  }\n  /**\n   * Request upload state after 5xx errors or network failures\n   */\n  private resume(): void {\n    const xhr: XMLHttpRequest = XHRFactory.getInstance();\n    if (xhr.responseType !== 'json') {\n      xhr.responseType = 'json';\n    }\n    xhr.open('PUT', this.url, true);\n    if (!!this.options.withCredentials) {\n      xhr.withCredentials = true;\n    }\n    xhr.setRequestHeader('Content-Range', `bytes */${this.size}`);\n    xhr.setRequestHeader('Content-Type', this.mimeType);\n    this.setHeaders(xhr);\n    const onDataSendError = () => {\n      // 5xx errors or network failures\n      if (xhr.status > 499 || !xhr.status) {\n        XHRFactory.release(xhr);\n        this.retry.wait().then(() => this.resume());\n      } else {\n        // 4xx errors\n        this.response = xhr.response || {\n          error: {\n            code: xhr.status,\n            message: xhr.statusText\n          }\n        };\n        this.status = 'error';\n        XHRFactory.release(xhr);\n        this.options.nextFile();\n      }\n    };\n    const onDataSendSuccess = () => {\n      if (xhr.status === 200 || xhr.status === 201) {\n        this.progress = 100;\n        this.response = xhr.response;\n        this.status = 'complete';\n        XHRFactory.release(xhr);\n        this.options.nextFile();\n      } else if (xhr.status && xhr.status < 400) {\n        const range = +xhr.getResponseHeader('Range').split('-')[1] + 1;\n        this.retry.reset();\n        XHRFactory.release(xhr);\n        this.abort = this.sendFile(range);\n      } else {\n        onDataSendError();\n      }\n    };\n    xhr.onerror = onDataSendError;\n    xhr.onload = onDataSendSuccess;\n    xhr.send();\n  }\n  /**\n   * Content upload\n   */\n  private sendFile(start: number = 0): () => void {\n    if (this.status === 'cancelled' || this.status === 'paused') {\n      return;\n    }\n    let end: number = this.options.chunkSize\n      ? start + this.options.chunkSize\n      : this.size;\n    end = end > this.size ? this.size : end;\n    const chunk: Blob = this.file.slice(start, end);\n    const xhr: XMLHttpRequest = XHRFactory.getInstance();\n    if (xhr.responseType !== 'json') {\n      xhr.responseType = 'json';\n    }\n\n    xhr.open('PUT', this.url, true);\n    if (!!this.options.withCredentials) {\n      xhr.withCredentials = true;\n    }\n    xhr.setRequestHeader(\n      'Content-Range',\n      `bytes ${start}-${end - 1}/${this.size}`\n    );\n    xhr.setRequestHeader('Content-Type', this.mimeType);\n    this.setHeaders(xhr);\n    const updateProgress = (pEvent: ProgressEvent) => {\n      const uploaded = pEvent.lengthComputable\n        ? start + (end - start) * (pEvent.loaded / pEvent.total)\n        : start;\n      this.progress = +(uploaded / this.size * 100).toFixed(2);\n      const now = new Date().getTime();\n      this.speed = Math.round(uploaded / (now - this.startTime) * 1000);\n      this.remaining = Math.ceil((this.size - uploaded) / this.speed);\n      this.notifyState();\n    };\n    const onDataSendError = () => {\n      // 5xx errors or network failures\n      if (xhr.status > 499 || !xhr.status) {\n        XHRFactory.release(xhr);\n        this.retry.wait().then(() => this.resume());\n      } else {\n        // 4xx errors\n        this.response = xhr.response || {\n          error: {\n            code: +xhr.status,\n            message: xhr.statusText\n          }\n        };\n        this.status = 'error';\n        XHRFactory.release(xhr);\n        this.options.nextFile();\n      }\n    };\n    const onDataSendSuccess = () => {\n      if (xhr.status === 200 || xhr.status === 201) {\n        this.progress = 100;\n        this.response = xhr.response;\n        this.status = 'complete';\n        XHRFactory.release(xhr);\n        this.options.nextFile();\n      } else if (xhr.status && xhr.status < 400) {\n        const range = +xhr.getResponseHeader('Range').split('-')[1] + 1;\n        this.retry.reset();\n        XHRFactory.release(xhr);\n        // send next chunk\n        this.abort = this.sendFile(range);\n      } else {\n        onDataSendError();\n      }\n    };\n    xhr.onerror = onDataSendError;\n    xhr.onload = onDataSendSuccess;\n    xhr.upload.onprogress = updateProgress;\n    xhr.send(chunk);\n    return () => {\n      xhr.abort();\n    };\n  }\n}\n",
    "export let XHRFactory = (() => {\n  let stack = Array(1).fill(createXHR());\n\n  function createXHR() {\n    return new XMLHttpRequest();\n  }\n\n  return {\n    release: (xhr) => {\n      xhr.onreadystatechange = null;\n      xhr.onerror = null;\n      xhr.onload = null;\n      xhr.upload.onprogress = null;\n      stack.push(xhr);\n    },\n    getInstance() {\n      if (!stack.length) {\n        return createXHR();\n      } else {\n        return stack.pop();\n      }\n    },\n    get size() {\n      return stack.length;\n    },\n    set size(s) {\n      stack = Array(s).fill(createXHR());\n    }\n  };\n})();\n",
    "/**\n *  Exponential Backoff Retries\n */\nexport class BackoffRetry {\n  private delay: number;\n  /**\n   *\n   * Creates an instance of BackoffRetry.\n   * @default\n   * minInterval = 1000 ms\n   * maxInterval = minInterval * 120 (2 min)\n   * k = 2\n   */\n  constructor(\n    private minInterval = 1000,\n    private maxInterval = minInterval * 120,\n    private k = 2\n  ) {\n    this.delay = this.minInterval;\n  }\n  // TODO implement the \"Retry-After\"\n  /**\n   * Delay Retry\n   */\n  wait(): Promise<{}> {\n    return new Promise(resolve => {\n      setTimeout(resolve, this.delay + Math.floor(Math.random() * this.minInterval));\n      this.delay = Math.min(this.delay * this.k, this.maxInterval);\n    });\n  }\n  /**\n   * Reset Retry Interval\n   */\n  reset(): void {\n    this.delay = this.minInterval;\n  }\n}\n",
    "export type UploadStatus =\n  | 'added'\n  | 'queue'\n  | 'uploading'\n  | 'complete'\n  | 'error'\n  | 'cancelled'\n  | 'paused';\n\nexport type UploadAction =\n  | 'create'\n  | 'uploadAll'\n  | 'upload'\n  | 'cancel'\n  | 'cancelAll'\n  | 'pauseAll'\n  | 'pause';\nexport interface UploadxControlEvent {\n  action: UploadAction;\n  /**\n   * override global options\n   */\n  itemOptions?: UploadItem;\n  /** Upload unique identifier */\n  uploadId?: string;\n}\n/**\n *  Read only upload stream events\n */\nexport interface UploadState {\n  file: File;\n  name: string;\n  progress: number;\n  remaining: number;\n  response: any;\n  size: number;\n  speed: number;\n  status: UploadStatus;\n  uploadId: string;\n  URI: string;\n}\n\nexport interface UploadItem {\n  /**\n   * Upload API initial method\n   * @default 'POST'\n   */\n  method?: string;\n  readonly uploadId?: string;\n  /**\n   * Upload API URL\n   * @default '/upload/'\n   */\n  url?: string;\n  /**\n   * Custom headers\n   */\n  headers?: { [key: string]: string } | Function;\n  /**\n   * Upload meta\n   * @default\n   * { name: File.Filename, mimeType: File.type }\n   */\n  metadata?: any;\n}\n/**\n * Global Options\n */\nexport class UploadxOptions implements UploadItem {\n  /**\n   *  Set \"accept\" attribute\n   * @example\n   * allowedTypes: 'image/*, video/*'\n   */\n  allowedTypes?: string;\n  /**\n   * Auto upload with global options\n   * @default true\n   */\n  autoUpload?: boolean;\n  /**\n   * If set use chunks for upload\n   * @default 0\n   */\n  chunkSize?: number;\n  /**\n   * Uploads in parallel\n   * @default 2\n   */\n  concurrency?: number;\n  /**\n   * Custom headers\n   */\n  headers?: { [key: string]: string } | Function;\n  /**\n   * Upload API initial method\n   * @default 'POST'\n   */\n  method?: string;\n  /**\n   * Authorization Bearer token\n   */\n  token?: string;\n  /**\n   * Upload API URL\n   * @default '/upload/'\n   */\n  url?: string;\n  /**\n   * Use withCredentials xhr option?\n   * @default false\n   */\n  withCredentials?: boolean;\n}\n/**\n * @inner\n */\nexport interface UploaderOptions extends UploadItem {\n  token?: string;\n  chunkSize?: number;\n  withCredentials?: boolean;\n  readonly subj?: any;\n  readonly nextFile?: () => void;\n}\n"
  ],
  "names": [],
  "mappings": "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"
}
